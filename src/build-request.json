{
  "kind": "build_request",
  "title": "Add a simple “Show my Principal” control",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-24",
      "text": "Add a simple UI control labeled “Show my Principal” that displays the currently authenticated Internet Identity Principal ID (as text) so the user can copy/share it for admin allowlisting.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "add a simple “Show my Principal”"
        ]
      },
      "acceptanceCriteria": [
        "On the authenticated /app/profile page, there is a clearly visible control labeled “Show my Principal”.",
        "When clicked (or toggled), the UI reveals the caller Principal ID derived from the current Internet Identity (e.g., identity.getPrincipal().toText()).",
        "If the user is not authenticated (no identity available), the UI shows an English message indicating the user must sign in to view the Principal.",
        "The displayed Principal ID can be copied to clipboard via a “Copy” button (with a minimal confirmation such as toast or inline text)."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/components/ui (shadcn components are read-only).",
    "Do not modify immutable auth hook files (frontend/src/hooks/useInternetIdentity.ts / .tsx, frontend/src/hooks/useActor.ts, frontend/src/main.tsx). Instead, consume their existing APIs from new or existing components/pages.",
    "Keep the change minimal and localized (prefer adding to an existing authenticated page such as frontend/src/pages/Profile.tsx)."
  ],
  "nonGoals": [
    "Do not change the admin allowlist logic or admin permissions behavior.",
    "Do not add new authentication methods (email/Google/etc.)."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}